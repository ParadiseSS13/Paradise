<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/mineral/ore_redemption - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/mineral/ore_redemption.html#var">Var Details</a> - <a href="obj/machinery/mineral/ore_redemption.html#proc">Proc Details</a></header><main><h1>Ore Redemption Machine <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/mineral/ore_redemption.html">mineral/ore_redemption</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 6"></a></h1><p>Turns all the various mining machines into a single unit to speed up tmining and establish a point system.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/anyone_claim">anyone_claim</a></th><td>If TRUE, <a href="obj/machinery/mineral/ore_redemption.html#var/req_access_claim" title="/obj/machinery/mineral/ore_redemption">/obj/machinery/mineral/ore_redemption/var/req_access_claim</a> is ignored and any ID may be used to claim points.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/files">files</a></th><td>Locally known R&amp;D designs.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/inserted_disk">inserted_disk</a></th><td>The currently inserted design disk.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/message_sent">message_sent</a></th><td>Whether the message to relevant supply consoles was sent already or not for an ore dump. If FALSE, another will be sent.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/ore_buffer">ore_buffer</a></th><td>List of ore yet to process.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/point_upgrade">point_upgrade</a></th><td>Point multiplier applied when smelting ore. Updated by [/obj/machinery/proc/RefreshParts].</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/points">points</a></th><td>The number of unclaimed points.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/req_access_claim">req_access_claim</a></th><td>The access number required to claim points from the machine.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/sheet_per_ore">sheet_per_ore</a></th><td>Sheet multiplier applied when smelting ore. Updated by [/obj/machinery/proc/RefreshParts].</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#var/supply_consoles">supply_consoles</a></th><td>List of supply console department names that can receive a notification about ore dumps.
A list may be provided as entry value to only notify when specific ore is dumped.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#proc/get_num_smeltable_alloy">get_num_smeltable_alloy</a></th><td>Returns the amount of alloy sheets that can be produced from the given design.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#proc/give_points">give_points</a></th><td>Adds a set number of mining points, based on the ore points, the ore amount, and the ORM upgrade state.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#proc/on_material_insert">on_material_insert</a></th><td>Called when an item is inserted manually as material.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#proc/process_ores">process_ores</a></th><td>Processes the given list of ores.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#proc/send_console_message">send_console_message</a></th><td>Notifies all relevant supply consoles with the machine's contents.</td></tr><tr><th><a href="obj/machinery/mineral/ore_redemption.html#proc/smelt_ore">smelt_ore</a></th><td>Smelts the given stack of ore.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/anyone_claim"><aside class="declaration">var </aside>anyone_claim <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 19"></a></h3><p>If TRUE, <a href="obj/machinery/mineral/ore_redemption.html#var/req_access_claim" title="/obj/machinery/mineral/ore_redemption">/obj/machinery/mineral/ore_redemption/var/req_access_claim</a> is ignored and any ID may be used to claim points.</p><h3 id="var/files"><aside class="declaration">var </aside>files <aside>– /<a href="datum.html">datum</a>/<a href="datum/research.html">research</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L44"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 44"></a></h3><p>Locally known R&amp;D designs.</p><h3 id="var/inserted_disk"><aside class="declaration">var </aside>inserted_disk <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/disk/design_disk</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 46"></a></h3><p>The currently inserted design disk.</p><h3 id="var/message_sent"><aside class="declaration">var </aside>message_sent <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 40"></a></h3><p>Whether the message to relevant supply consoles was sent already or not for an ore dump. If FALSE, another will be sent.</p><h3 id="var/ore_buffer"><aside class="declaration">var </aside>ore_buffer <aside>– /list/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/ore</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 42"></a></h3><p>List of ore yet to process.</p><h3 id="var/point_upgrade"><aside class="declaration">var </aside>point_upgrade <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 38"></a></h3><p>Point multiplier applied when smelting ore. Updated by [/obj/machinery/proc/RefreshParts].</p><h3 id="var/points"><aside class="declaration">var </aside>points <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 34"></a></h3><p>The number of unclaimed points.</p><h3 id="var/req_access_claim"><aside class="declaration">var </aside>req_access_claim <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 17"></a></h3><p>The access number required to claim points from the machine.</p><h3 id="var/sheet_per_ore"><aside class="declaration">var </aside>sheet_per_ore <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 36"></a></h3><p>Sheet multiplier applied when smelting ore. Updated by [/obj/machinery/proc/RefreshParts].</p><h3 id="var/supply_consoles"><aside class="declaration">var </aside>supply_consoles <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 22"></a></h3><p>List of supply console department names that can receive a notification about ore dumps.
A list may be provided as entry value to only notify when specific ore is dumped.</p><h2 id="proc">Proc Details</h2><h3 id="proc/get_num_smeltable_alloy"><aside class="declaration">proc </aside>get_num_smeltable_alloy<aside>(/<a href="datum.html">datum</a>/<a href="datum/design.html">design</a>/D)  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L403"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 403"></a></aside></h3><p>Returns the amount of alloy sheets that can be produced from the given design.</p>
<p>Arguments:</p>
<ul>
<li>D - The smelting design.</li>
</ul><h3 id="proc/give_points"><aside class="declaration">proc </aside>give_points<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/ore/ore_path, ore_amount)  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L393"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 393"></a></aside></h3><p>Adds a set number of mining points, based on the ore points, the ore amount, and the ORM upgrade state.</p>
<p>Arguments:</p>
<ul>
<li>ore_path - The typepath of the inserted ore.</li>
<li>ore_amount - The amount of ore which has been inserted.</li>
</ul><h3 id="proc/on_material_insert"><aside class="declaration">proc </aside>on_material_insert<aside>(inserted_type, last_inserted_id, inserted)  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L501"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 501"></a></aside></h3><p>Called when an item is inserted manually as material.</p>
<p>Arguments:</p>
<ul>
<li>inserted_type - The type of the inserted item.</li>
<li>last_inserted_id - The ID of the last material to have been inserted.</li>
<li>inserted - The amount of material inserted.</li>
</ul><h3 id="proc/process_ores"><aside class="declaration">proc </aside>process_ores<aside>(/list/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/ore/L)  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L428"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 428"></a></aside></h3><p>Processes the given list of ores.</p>
<p>Arguments:</p>
<ul>
<li>L - List of ores to process.</li>
</ul><h3 id="proc/send_console_message"><aside class="declaration">proc </aside>send_console_message<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L435"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 435"></a></aside></h3><p>Notifies all relevant supply consoles with the machine's contents.</p><h3 id="proc/smelt_ore"><aside class="declaration">proc </aside>smelt_ore<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/ore/O)  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mining/machine_redemption.dm#L370"><img src="git.png" width="16" height="16" title="code/modules/mining/machine_redemption.dm 370"></a></aside></h3><p>Smelts the given stack of ore.</p>
<p>Arguments:</p>
<ul>
<li>O - The ore stack to smelt.</li>
</ul></main><footer>paradise.dme <a href="https://github.com/ParadiseSS13/Paradise/tree/506e5b7f5d9e45eafbcfc840b775ca69dee16715">506e5b7</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>
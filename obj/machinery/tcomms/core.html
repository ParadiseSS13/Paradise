<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/tcomms/core - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/tcomms/core.html#var">Var Details</a> - <a href="obj/machinery/tcomms/core.html#proc">Proc Details</a></header><main><h1>Telecommunications Core <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/tcomms.html">tcomms</a>/<a href="obj/machinery/tcomms/core.html">core</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L13"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 13"></a></h1><p>The core of the entire telecomms operation</p>
<p>This thing basically handles the main broadcasting of the data, as well as NTTC configs
The relays dont do any actual processing, they are just objects which can bring tcomms to another zlevel</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/tcomms/core.html#var/link_password">link_password</a></th><td>Password for linking stuff together</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#var/linked_relays">linked_relays</a></th><td>List of all linked relays</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#var/nttc">nttc</a></th><td>The NTTC config for this device</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#var/reachable_zlevels">reachable_zlevels</a></th><td>List of all reachable devices</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#var/ui_tab">ui_tab</a></th><td>What tab of the UI were currently on</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/tcomms/core.html#proc/Destroy">Destroy</a></th><td>Destructor for the core.</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#proc/Initialize">Initialize</a></th><td>Initializer for the core.</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#proc/check_power_on">check_power_on</a></th><td>Power-on checker</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#proc/handle_message">handle_message</a></th><td>Proc which takes in the message datum</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#proc/on_changed_z_level">on_changed_z_level</a></th><td>Z-Level transit change helper</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#proc/refresh_zlevels">refresh_zlevels</a></th><td>Proc to remake the list of available zlevels</td></tr><tr><th><a href="obj/machinery/tcomms/core.html#proc/zlevel_reachable">zlevel_reachable</a></th><td>Helper to see if a zlevel is reachable</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/link_password"><aside class="declaration">var </aside>link_password <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L26"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 26"></a></h3><p>Password for linking stuff together</p><h3 id="var/linked_relays"><aside class="declaration">var </aside>linked_relays <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L24"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 24"></a></h3><p>List of all linked relays</p><h3 id="var/nttc"><aside class="declaration">var </aside>nttc <aside>– /<a href="datum.html">datum</a>/<a href="datum/nttc_configuration.html">nttc_configuration</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L20"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 20"></a></h3><p>The NTTC config for this device</p><h3 id="var/reachable_zlevels"><aside class="declaration">var </aside>reachable_zlevels <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L22"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 22"></a></h3><p>List of all reachable devices</p><h3 id="var/ui_tab"><aside class="declaration">var </aside>ui_tab <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L28"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 28"></a></h3><p>What tab of the UI were currently on</p><h2 id="proc">Proc Details</h2><h3 id="proc/Destroy"><aside class="parent"><a title="/obj/machinery/tcomms" href="obj/machinery/tcomms.html#proc/Destroy">↑</a></aside>Destroy<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L58"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 58"></a></aside></h3><p>Destructor for the core.</p>
<p>Ensures that the machine is taken out of the global list when destroyed, and also unlinks all connected relays</p><h3 id="proc/Initialize"><aside class="parent"><a title="/obj/machinery/tcomms" href="obj/machinery/tcomms.html#proc/Initialize">↑</a></aside>Initialize<aside>(mapload)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L35"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 35"></a></aside></h3><p>Initializer for the core.</p>
<p>Calls parent to ensure its added to the GLOB of tcomms machines, before generating a link password and adding itself to the list of reachable Zs.</p><h3 id="proc/check_power_on"><aside class="declaration">proc </aside>check_power_on<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L152"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 152"></a></aside></h3><p>Power-on checker</p>
<p>Checks the z-level to see if an existing core is already powered on, and deny this one turning on if there is one. Returns TRUE if it can power on, or FALSE if it cannot</p><h3 id="proc/handle_message"><aside class="declaration">proc </aside>handle_message<aside>(/<a href="datum.html">datum</a>/<a href="datum/tcomms_message.html">tcomms_message</a>/tcm)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L92"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 92"></a></aside></h3><p>Proc which takes in the message datum</p>
<p>Some checks are ran on the signal, and NTTC is applied
After that, it is broadcasted out to the required Z-levels</p>
<p>Arguments:</p>
<ul>
<li>tcm - The tcomms message datum</li>
</ul><h3 id="proc/on_changed_z_level"><aside class="parent"><a title="/obj/machinery/tcomms" href="obj/machinery/tcomms.html#proc/on_changed_z_level">↑</a></aside>on_changed_z_level<aside>(/<a href="turf.html">turf</a>/old_turf, /<a href="turf.html">turf</a>/new_turf)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L143"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 143"></a></aside></h3><p>Z-Level transit change helper</p>
<p>Handles parent call of disabling the machine if it changes Z-level, but also rebuilds the list of reachable levels</p><h3 id="proc/refresh_zlevels"><aside class="declaration">proc </aside>refresh_zlevels<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L126"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 126"></a></aside></h3><p>Proc to remake the list of available zlevels</p>
<p>Loops through the list of connected relays and adds their zlevels in.
This is called if a relay is added or removed</p><h3 id="proc/zlevel_reachable"><aside class="declaration">proc </aside>zlevel_reachable<aside>(zlevel)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/machinery/tcomms/tcomms_core.dm#L74"><img src="git.png" width="16" height="16" title="code/game/machinery/tcomms/tcomms_core.dm 74"></a></aside></h3><p>Helper to see if a zlevel is reachable</p>
<p>This is a simple check to see if the input z-level is in the list of reachable ones
Returns TRUE if it can, FALSE if it cant</p>
<p>Arguments:</p>
<ul>
<li>zlevel - The input z level to test</li>
</ul></main><footer>paradise.dme <a href="https://github.com/ParadiseSS13/Paradise/tree/b5514069efa5f2c5a6aed3be3811502a06d2b33a">b551406</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>
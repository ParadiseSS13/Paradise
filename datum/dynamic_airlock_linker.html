<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/dynamic_airlock_linker - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/dynamic_airlock_linker.html#var">Var Details</a> - <a href="datum/dynamic_airlock_linker.html#proc">Proc Details</a></header><main><h1>dynamic_airlock_linker <aside>/<a href="datum.html">datum</a>/<a href="datum/dynamic_airlock_linker.html">dynamic_airlock_linker</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 11"></a></h1><p>A manager that is used on mapload to generate airlock chambers based on the
usage of <a href="obj/effect/map_effect/dynamic_airlock.html" title="/obj/effect/map_effect/dynamic_airlock">/obj/effect/map_effect/dynamic_airlock</a> helpers. These helpers
make up the &quot;zone&quot; of an airlock chamber, as well as indicate which airlocks
are exterior or interior, what access should be applied to the doors and
controls, And what buttons, vents, and airlock controllers should be linked
together. This is performed on Initialize of one of the related helpers.
Once done, all the other helpers are deleted to prevent it happening again
for that zone.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/dynamic_airlock_linker.html#var/airlock_controllers">airlock_controllers</a></th><td>A list of all <a href="obj/machinery/airlock_controller.html" title="/obj/machinery/airlock_controller">/obj/machinery/airlock_controller</a>s found in the airlock zone.</td></tr><tr><th><a href="datum/dynamic_airlock_linker.html#var/exterior_helpers">exterior_helpers</a></th><td>A list of <a href="obj/effect/map_effect/dynamic_airlock.html" title="/obj/effect/map_effect/dynamic_airlock">/obj/effect/map_effect/dynamic_airlock/door/exterior</a>s to integrate into the airlock.</td></tr><tr><th><a href="datum/dynamic_airlock_linker.html#var/interior_helpers">interior_helpers</a></th><td>A list of <a href="obj/effect/map_effect/dynamic_airlock.html" title="/obj/effect/map_effect/dynamic_airlock">/obj/effect/map_effect/dynamic_airlock/door/interior</a>s to integrate into the airlock.</td></tr><tr><th><a href="datum/dynamic_airlock_linker.html#var/req_access">req_access</a></th><td>A collection of &quot;all&quot; access defines collated from any
<a href="obj/effect/map_effect/dynamic_airlock.html" title="/obj/effect/map_effect/dynamic_airlock">/obj/effect/map_effect/dynamic_airlock/access</a> helpers present in the airlock.</td></tr><tr><th><a href="datum/dynamic_airlock_linker.html#var/req_one_access">req_one_access</a></th><td>A collection of &quot;any&quot; access defines collated from any
<a href="obj/effect/map_effect/dynamic_airlock.html" title="/obj/effect/map_effect/dynamic_airlock">/obj/effect/map_effect/dynamic_airlock/access</a> helpers present in the airlock.</td></tr><tr><th><a href="datum/dynamic_airlock_linker.html#var/vent_pumps">vent_pumps</a></th><td>A list of all <a href="obj/machinery/atmospherics/unary/vent_pump.html" title="/obj/machinery/atmospherics/unary/vent_pump">/obj/machinery/atmospherics/unary/vent_pump/high_volume</a> vent pumps found in the airlock zone.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/dynamic_airlock_linker.html#proc/build">build</a></th><td>Use all the information discovered about the airlock zone to link up the
included airlock controllers, buttons, airlocks, and vent pumps. Make sure
that all helpers found in this process are qdel'd so that no other helper
attempts to do the same thing with this zone.</td></tr><tr><th><a href="datum/dynamic_airlock_linker.html#proc/consume_access_helpers">consume_access_helpers</a></th><td>Find all the <a href="obj.html" title="/obj">/obj/effect/mapping_helpers/airlock/access</a> helpers on the
passed in helper's tile, and add them to the list of accesses we'll assign
to the linked objects later. Make sure that all mapping helpers found in
this process are qdel'd so they don't attempt to assign access to anything
else later.</td></tr><tr><th><a href="datum/dynamic_airlock_linker.html#proc/extend_zone">extend_zone</a></th><td>Starting from an arbitrary initial helper, search out from all adjacent
tiles and find all other helpers that are part of this zone.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/airlock_controllers"><aside class="declaration">var </aside>airlock_controllers <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 23"></a></h3><p>A list of all <a href="obj/machinery/airlock_controller.html" title="/obj/machinery/airlock_controller">/obj/machinery/airlock_controller</a>s found in the airlock zone.</p><h3 id="var/exterior_helpers"><aside class="declaration">var </aside>exterior_helpers <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 15"></a></h3><p>A list of <a href="obj/effect/map_effect/dynamic_airlock.html" title="/obj/effect/map_effect/dynamic_airlock">/obj/effect/map_effect/dynamic_airlock/door/exterior</a>s to integrate into the airlock.</p><h3 id="var/interior_helpers"><aside class="declaration">var </aside>interior_helpers <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 13"></a></h3><p>A list of <a href="obj/effect/map_effect/dynamic_airlock.html" title="/obj/effect/map_effect/dynamic_airlock">/obj/effect/map_effect/dynamic_airlock/door/interior</a>s to integrate into the airlock.</p><h3 id="var/req_access"><aside class="declaration">var </aside>req_access <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 18"></a></h3><p>A collection of &quot;all&quot; access defines collated from any
<a href="obj/effect/map_effect/dynamic_airlock.html" title="/obj/effect/map_effect/dynamic_airlock">/obj/effect/map_effect/dynamic_airlock/access</a> helpers present in the airlock.</p><h3 id="var/req_one_access"><aside class="declaration">var </aside>req_one_access <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 21"></a></h3><p>A collection of &quot;any&quot; access defines collated from any
<a href="obj/effect/map_effect/dynamic_airlock.html" title="/obj/effect/map_effect/dynamic_airlock">/obj/effect/map_effect/dynamic_airlock/access</a> helpers present in the airlock.</p><h3 id="var/vent_pumps"><aside class="declaration">var </aside>vent_pumps <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L25"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 25"></a></h3><p>A list of all <a href="obj/machinery/atmospherics/unary/vent_pump.html" title="/obj/machinery/atmospherics/unary/vent_pump">/obj/machinery/atmospherics/unary/vent_pump/high_volume</a> vent pumps found in the airlock zone.</p><h2 id="proc">Proc Details</h2><h3 id="proc/build"><aside class="declaration">proc </aside>build<aside>(/<a href="obj.html">obj</a>/<a href="obj/effect/map_effect/dynamic_airlock.html">effect/map_effect/dynamic_airlock</a>/origin_helper)  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L65"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 65"></a></aside></h3><p>Use all the information discovered about the airlock zone to link up the
included airlock controllers, buttons, airlocks, and vent pumps. Make sure
that all helpers found in this process are qdel'd so that no other helper
attempts to do the same thing with this zone.</p><h3 id="proc/consume_access_helpers"><aside class="declaration">proc </aside>consume_access_helpers<aside>(/<a href="obj.html">obj</a>/<a href="obj/effect/map_effect/dynamic_airlock.html">effect/map_effect/dynamic_airlock</a>/helper)  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L123"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 123"></a></aside></h3><p>Find all the <a href="obj.html" title="/obj">/obj/effect/mapping_helpers/airlock/access</a> helpers on the
passed in helper's tile, and add them to the list of accesses we'll assign
to the linked objects later. Make sure that all mapping helpers found in
this process are qdel'd so they don't attempt to assign access to anything
else later.</p><h3 id="proc/extend_zone"><aside class="declaration">proc </aside>extend_zone<aside>(/<a href="obj.html">obj</a>/<a href="obj/effect/map_effect/dynamic_airlock.html">effect/map_effect/dynamic_airlock</a>/helper, /list/visited_helpers)  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/modules/mapping/dynamic_airlock_linker.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/mapping/dynamic_airlock_linker.dm 34"></a></aside></h3><p>Starting from an arbitrary initial helper, search out from all adjacent
tiles and find all other helpers that are part of this zone.</p>
<p>Right now this is a (relatively) busy proc that can't leave any setup to
the Initialize of any helpers in its zone, because airlock controllers need
all of their airlocks etc known when linkage occurs, which is in
LateInitialize. I'm not sure if that's something that can be &quot;fixed&quot;.</p></main><footer>paradise.dme <a href="https://github.com/ParadiseSS13/Paradise/tree/506e5b7f5d9e45eafbcfc840b775ca69dee16715">506e5b7</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>
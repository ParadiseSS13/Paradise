<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/subsystem/ticker - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/subsystem/ticker.html#var">Var Details</a> - <a href="datum/controller/subsystem/ticker.html#proc">Proc Details</a></header><main><h1>ticker <aside>/<a href="datum.html">datum</a>/<a href="datum/controller.html">controller</a>/<a href="datum/controller/subsystem.html">subsystem</a>/<a href="datum/controller/subsystem/ticker.html">ticker</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L1"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/Bible_deity_name">Bible_deity_name</a></th><td>Name of the bible deity</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/Bible_icon_state">Bible_icon_state</a></th><td>icon_state the chaplain has chosen for his bible</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/Bible_item_state">Bible_item_state</a></th><td>item_state the chaplain has chosen for his bible</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/Bible_name">Bible_name</a></th><td>Name of the bible</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/biohazard_pop_times">biohazard_pop_times</a></th><td>List of biohazards keyed to the last time their population was sampled.</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/cinematic">cinematic</a></th><td>Used for station explosion cinematic</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/cult_data">cult_data</a></th><td>Cult static info, used for things like sprites. Someone should refactor the sprites out of it someday and just use SEPERATE ICONS DEPNDING ON THE TYPE OF CULT... like a sane person</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/current_state">current_state</a></th><td>Current status of the game. See code__DEFINES\game.dm</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/delay_end">delay_end</a></th><td>If set to TRUE, the round will not restart on it's own</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/end_state">end_state</a></th><td>Server end state (Did we end properly or reboot or nuke or what)</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/flagged_antag_rollers">flagged_antag_rollers</a></th><td>List of ckeys who had antag rolling issues flagged</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/force_ending">force_ending</a></th><td>Do we want to force-end as soon as we can</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/force_start">force_start</a></th><td>Do we want to force-start as soon as we can</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/hide_mode">hide_mode</a></th><td>Leave here at FALSE ! setup() will take care of it when needed for Secret mode -walter0o</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/login_music">login_music</a></th><td>The current pick of lobby music played in the lobby</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/minds">minds</a></th><td>List of all minds in the game. Used for objective tracking</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/mode">mode</a></th><td>Our current game mode</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/mode_result">mode_result</a></th><td>Gamemode result (For things like cult or nukies which can end multiple ways)</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/next_autotransfer">next_autotransfer</a></th><td>Holder for inital autotransfer vote timer</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/pregame_timeleft">pregame_timeleft</a></th><td>This is used for calculations for the statpanel</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/random_players">random_players</a></th><td>If set to nonzero, ALL players who latejoin or declare-ready join will have random appearances/genders</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/real_reboot_time">real_reboot_time</a></th><td>Time the real reboot kicks in</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/round_end_announced">round_end_announced</a></th><td>Spam Prevention. Announce round end only once.</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/round_start_time">round_start_time</a></th><td>Time the game should start, relative to world.time</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/score">score</a></th><td>Datum used to generate the end of round scoreboard.</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/selected_tip">selected_tip</a></th><td>What will be the tip of the round?</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/ticker_going">ticker_going</a></th><td>Is the ticker currently processing? If FALSE, roundstart is delayed</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/time_game_started">time_game_started</a></th><td>Time that the round started</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/tipped">tipped</a></th><td>Did we broadcast the tip of the round yet?</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#var/triai">triai</a></th><td>Global holder for triple AI mode</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#proc/any_admin_spawned_mobs">any_admin_spawned_mobs</a></th><td>Returns whether the given biohazard includes mobs that were admin spawned.
Only returns TRUE or FALSE, does not attempt to track which mobs were
admin-spawned and which ones weren't.</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#proc/biohazard_active_threat">biohazard_active_threat</a></th><td>Return whether or not a given biohazard is an active threat.
For blobs, this is simply if there are any overminds left. For terrors and
xenomorphs, this is whether they have overwhelming numbers.</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#proc/record_biohazard_results">record_biohazard_results</a></th><td>This proc is for recording biohazard events, and blackboxing if they lived,
died, or ended the round. This currently applies to: Terror spiders,
Xenomorphs, and Blob.</td></tr><tr><th><a href="datum/controller/subsystem/ticker.html#proc/record_biohazard_start">record_biohazard_start</a></th><td>Record the initial time that a biohazard spawned.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/Bible_deity_name"><aside class="declaration">var </aside>Bible_deity_name <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L37"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 37"></a></h3><p>Name of the bible deity</p><h3 id="var/Bible_icon_state"><aside class="declaration">var </aside>Bible_icon_state <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L31"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 31"></a></h3><p>icon_state the chaplain has chosen for his bible</p><h3 id="var/Bible_item_state"><aside class="declaration">var </aside>Bible_item_state <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L33"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 33"></a></h3><p>item_state the chaplain has chosen for his bible</p><h3 id="var/Bible_name"><aside class="declaration">var </aside>Bible_name <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L35"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 35"></a></h3><p>Name of the bible</p><h3 id="var/biohazard_pop_times"><aside class="declaration">var </aside>biohazard_pop_times <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L71"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 71"></a></h3><p>List of biohazards keyed to the last time their population was sampled.</p><h3 id="var/cinematic"><aside class="declaration">var </aside>cinematic <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L55"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 55"></a></h3><p>Used for station explosion cinematic</p><h3 id="var/cult_data"><aside class="declaration">var </aside>cult_data <aside>– /<a href="datum.html">datum</a>/cult_info</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L39"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 39"></a></h3><p>Cult static info, used for things like sprites. Someone should refactor the sprites out of it someday and just use SEPERATE ICONS DEPNDING ON THE TYPE OF CULT... like a sane person</p><h3 id="var/current_state"><aside class="declaration">var </aside>current_state <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L17"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 17"></a></h3><p>Current status of the game. See code__DEFINES\game.dm</p><h3 id="var/delay_end"><aside class="declaration">var </aside>delay_end <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L49"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 49"></a></h3><p>If set to TRUE, the round will not restart on it's own</p><h3 id="var/end_state"><aside class="declaration">var </aside>end_state <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L63"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 63"></a></h3><p>Server end state (Did we end properly or reboot or nuke or what)</p><h3 id="var/flagged_antag_rollers"><aside class="declaration">var </aside>flagged_antag_rollers <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L69"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 69"></a></h3><p>List of ckeys who had antag rolling issues flagged</p><h3 id="var/force_ending"><aside class="declaration">var </aside>force_ending <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L21"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 21"></a></h3><p>Do we want to force-end as soon as we can</p><h3 id="var/force_start"><aside class="declaration">var </aside>force_start <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L19"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 19"></a></h3><p>Do we want to force-start as soon as we can</p><h3 id="var/hide_mode"><aside class="declaration">var </aside>hide_mode <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L23"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 23"></a></h3><p>Leave here at FALSE ! setup() will take care of it when needed for Secret mode -walter0o</p><h3 id="var/login_music"><aside class="declaration">var </aside>login_music <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L27"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 27"></a></h3><p>The current pick of lobby music played in the lobby</p><h3 id="var/minds"><aside class="declaration">var </aside>minds <aside>– /list/datum/mind</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L29"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 29"></a></h3><p>List of all minds in the game. Used for objective tracking</p><h3 id="var/mode"><aside class="declaration">var </aside>mode <aside>– /<a href="datum.html">datum</a>/<a href="datum/game_mode.html">game_mode</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L25"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 25"></a></h3><p>Our current game mode</p><h3 id="var/mode_result"><aside class="declaration">var </aside>mode_result <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L61"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 61"></a></h3><p>Gamemode result (For things like cult or nukies which can end multiple ways)</p><h3 id="var/next_autotransfer"><aside class="declaration">var </aside>next_autotransfer <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L53"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 53"></a></h3><p>Holder for inital autotransfer vote timer</p><h3 id="var/pregame_timeleft"><aside class="declaration">var </aside>pregame_timeleft <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L47"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 47"></a></h3><p>This is used for calculations for the statpanel</p><h3 id="var/random_players"><aside class="declaration">var </aside>random_players <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L41"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 41"></a></h3><p>If set to nonzero, ALL players who latejoin or declare-ready join will have random appearances/genders</p><h3 id="var/real_reboot_time"><aside class="declaration">var </aside>real_reboot_time <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L65"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 65"></a></h3><p>Time the real reboot kicks in</p><h3 id="var/round_end_announced"><aside class="declaration">var </aside>round_end_announced <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L57"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 57"></a></h3><p>Spam Prevention. Announce round end only once.</p><h3 id="var/round_start_time"><aside class="declaration">var </aside>round_start_time <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L13"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 13"></a></h3><p>Time the game should start, relative to world.time</p><h3 id="var/score"><aside class="declaration">var </aside>score <aside>– /<a href="datum.html">datum</a>/<a href="datum/scoreboard.html">scoreboard</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L67"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 67"></a></h3><p>Datum used to generate the end of round scoreboard.</p><h3 id="var/selected_tip"><aside class="declaration">var </aside>selected_tip <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L45"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 45"></a></h3><p>What will be the tip of the round?</p><h3 id="var/ticker_going"><aside class="declaration">var </aside>ticker_going <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L59"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 59"></a></h3><p>Is the ticker currently processing? If FALSE, roundstart is delayed</p><h3 id="var/time_game_started"><aside class="declaration">var </aside>time_game_started <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L15"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 15"></a></h3><p>Time that the round started</p><h3 id="var/tipped"><aside class="declaration">var </aside>tipped <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L43"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 43"></a></h3><p>Did we broadcast the tip of the round yet?</p><h3 id="var/triai"><aside class="declaration">var </aside>triai <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L51"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 51"></a></h3><p>Global holder for triple AI mode</p><h2 id="proc">Proc Details</h2><h3 id="proc/any_admin_spawned_mobs"><aside class="declaration">proc </aside>any_admin_spawned_mobs<aside>(biohazard)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L858"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 858"></a></aside></h3><p>Returns whether the given biohazard includes mobs that were admin spawned.
Only returns TRUE or FALSE, does not attempt to track which mobs were
admin-spawned and which ones weren't.</p><h3 id="proc/biohazard_active_threat"><aside class="declaration">proc </aside>biohazard_active_threat<aside>(biohazard)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L893"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 893"></a></aside></h3><p>Return whether or not a given biohazard is an active threat.
For blobs, this is simply if there are any overminds left. For terrors and
xenomorphs, this is whether they have overwhelming numbers.</p><h3 id="proc/record_biohazard_results"><aside class="declaration">proc </aside>record_biohazard_results<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L826"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 826"></a></aside></h3><p>This proc is for recording biohazard events, and blackboxing if they lived,
died, or ended the round. This currently applies to: Terror spiders,
Xenomorphs, and Blob.</p>
<p>This code is predicated on the assumption that multiple midrounds
of the same type are either extremely rare or impossible. We don't want to get
into the insanity of trying to record if the first xeno biohazard was defeated
but the second xeno biohazard was nuked.</p><h3 id="proc/record_biohazard_start"><aside class="declaration">proc </aside>record_biohazard_start<aside>(biohazard)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/SSticker.dm#L851"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/SSticker.dm 851"></a></aside></h3><p>Record the initial time that a biohazard spawned.</p></main><footer>paradise.dme <a href="https://github.com/ParadiseSS13/Paradise/tree/b5514069efa5f2c5a6aed3be3811502a06d2b33a">b551406</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>
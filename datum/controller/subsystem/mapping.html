<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/subsystem/mapping - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/subsystem/mapping.html#var">Var Details</a> - <a href="datum/controller/subsystem/mapping.html#proc">Proc Details</a></header><main><h1>mapping <aside>/<a href="datum.html">datum</a>/<a href="datum/controller.html">controller</a>/<a href="datum/controller/subsystem.html">subsystem</a>/<a href="datum/controller/subsystem/mapping.html">mapping</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L1"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/caves_theme">caves_theme</a></th><td>What primary cave theme we have picked for cave generation today.</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/environments">environments</a></th><td>A mapping of environment names to MILLA environment IDs.</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/existing_station_areas">existing_station_areas</a></th><td>List of areas that exist on the station this shift</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/ghostteleportlocs">ghostteleportlocs</a></th><td>List of all areas that can be accessed via IC and OOC means</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/last_map">last_map</a></th><td>What map was used last round?</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/lavaland_ruins_placer">lavaland_ruins_placer</a></th><td>Ruin placement manager for lavaland levels.</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/lavaland_theme">lavaland_theme</a></th><td>What do we have as the lavaland theme today?</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/lists_to_reserve">lists_to_reserve</a></th><td>List of lists of turfs to reserve</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/map_datum">map_datum</a></th><td>What map datum are we using</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/next_map">next_map</a></th><td>What map will be used next round</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/space_ruins_placer">space_ruins_placer</a></th><td>Ruin placement manager for space levels.</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#var/teleportlocs">teleportlocs</a></th><td>List of all areas that can be accessed via IC means</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#proc/initialize_reserved_level">initialize_reserved_level</a></th><td>Sets up a z level as reserved
This is not for wiping reserved levels, use wipe_reservations() for that.
If this is called after SSatom init, it will call Initialize on all turfs on the passed z, as its name promises</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#proc/lazy_load_template">lazy_load_template</a></th><td>Lazy loads a template on a lazy-loaded z-level.</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#proc/request_turf_block_reservation">request_turf_block_reservation</a></th><td>Requests a /datum/turf_reservation based on the given width, height.</td></tr><tr><th><a href="datum/controller/subsystem/mapping.html#proc/unreserve_turfs">unreserve_turfs</a></th><td>Schedules a group of turfs to be handed back to the reservation system's control</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/caves_theme"><aside class="declaration">var </aside>caves_theme <aside>– /<a href="datum.html">datum</a>/caves_theme</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L20"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 20"></a></h3><p>What primary cave theme we have picked for cave generation today.</p><h3 id="var/environments"><aside class="declaration">var </aside>environments <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L27"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 27"></a></h3><p>A mapping of environment names to MILLA environment IDs.</p><h3 id="var/existing_station_areas"><aside class="declaration">var </aside>existing_station_areas <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L16"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 16"></a></h3><p>List of areas that exist on the station this shift</p><h3 id="var/ghostteleportlocs"><aside class="declaration">var </aside>ghostteleportlocs <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L14"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 14"></a></h3><p>List of all areas that can be accessed via IC and OOC means</p><h3 id="var/last_map"><aside class="declaration">var </aside>last_map <aside>– /<a href="datum.html">datum</a>/<a href="datum/map.html">map</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L10"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 10"></a></h3><p>What map was used last round?</p><h3 id="var/lavaland_ruins_placer"><aside class="declaration">var </aside>lavaland_ruins_placer <aside>– /<a href="datum.html">datum</a>/ruin_placer/lavaland</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L32"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 32"></a></h3><p>Ruin placement manager for lavaland levels.</p><h3 id="var/lavaland_theme"><aside class="declaration">var </aside>lavaland_theme <aside>– /<a href="datum.html">datum</a>/<a href="datum/lavaland_theme.html">lavaland_theme</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L18"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 18"></a></h3><p>What do we have as the lavaland theme today?</p><h3 id="var/lists_to_reserve"><aside class="declaration">var </aside>lists_to_reserve <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L41"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 41"></a></h3><p>List of lists of turfs to reserve</p><h3 id="var/map_datum"><aside class="declaration">var </aside>map_datum <aside>– /<a href="datum.html">datum</a>/<a href="datum/map.html">map</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L6"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 6"></a></h3><p>What map datum are we using</p><h3 id="var/next_map"><aside class="declaration">var </aside>next_map <aside>– /<a href="datum.html">datum</a>/<a href="datum/map.html">map</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L8"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 8"></a></h3><p>What map will be used next round</p><h3 id="var/space_ruins_placer"><aside class="declaration">var </aside>space_ruins_placer <aside>– /<a href="datum.html">datum</a>/ruin_placer/space</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L30"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 30"></a></h3><p>Ruin placement manager for space levels.</p><h3 id="var/teleportlocs"><aside class="declaration">var </aside>teleportlocs <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L12"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 12"></a></h3><p>List of all areas that can be accessed via IC means</p><h2 id="proc">Proc Details</h2><h3 id="proc/initialize_reserved_level"><aside class="declaration">proc </aside>initialize_reserved_level<aside>(z)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L431"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 431"></a></aside></h3><p>Sets up a z level as reserved
This is not for wiping reserved levels, use wipe_reservations() for that.
If this is called after SSatom init, it will call Initialize on all turfs on the passed z, as its name promises</p><h3 id="proc/lazy_load_template"><aside class="declaration">proc </aside>lazy_load_template<aside>(/<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/template)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L484"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 484"></a></aside></h3><p>Lazy loads a template on a lazy-loaded z-level.</p><h3 id="proc/request_turf_block_reservation"><aside class="declaration">proc </aside>request_turf_block_reservation<aside>(width, height, reservation_type, turf_type_override)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L400"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 400"></a></aside></h3><p>Requests a /datum/turf_reservation based on the given width, height.</p><h3 id="proc/unreserve_turfs"><aside class="declaration">proc </aside>unreserve_turfs<aside>(/list/turfs)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/controllers/subsystem/non_firing/SSmapping.dm#L505"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/non_firing/SSmapping.dm 505"></a></aside></h3><p>Schedules a group of turfs to be handed back to the reservation system's control</p></main><footer>paradise.dme <a href="https://github.com/ParadiseSS13/Paradise/tree/b5514069efa5f2c5a6aed3be3811502a06d2b33a">b551406</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/reagents - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/reagents.html#var">Var Details</a> - <a href="datum/reagents.html#proc">Proc Details</a></header><main><h1>Reagents Holder <aside>/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 22"></a></h1><p>The holder is the datum that holds a list of all reagents
currently in the object.</p>
<p>By default, all atom have an empty reagents var. If you want to use
an object for the chemistry system you'll need to add something like this in
its new proc:</p>
<pre><code>// Create a new datum, 100 is the maximum_volume of the new holder datum.
var/datum/reagents/R = new/datum/reagents(100)
reagents = R // Assign the new datum to the objects reagents var
R.my_atom = src // set the holders my_atom to src so that we know where we are.
</code></pre>
<p>This can also be done by calling a convenience proc e.g.
/atom/proc/create_reagents(max_volume)</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/reagents.html#var/maximum_volume">maximum_volume</a></th><td>This is the maximum volume of the holder.</td></tr><tr><th><a href="datum/reagents.html#var/my_atom">my_atom</a></th><td>This is the atom the holder is 'in'. Useful if you need to find the location. (i.e. for explosions)</td></tr><tr><th><a href="datum/reagents.html#var/reagent_list">reagent_list</a></th><td>All contained reagents. More specifically, references to the reagent datums.</td></tr><tr><th><a href="datum/reagents.html#var/total_volume">total_volume</a></th><td>The total volume of all reagents in this holder.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/reagents.html#proc/add_reagent">add_reagent</a></th><td>Attempts to add X of the matching reagent to the holder.</td></tr><tr><th><a href="datum/reagents.html#proc/clear_reagents">clear_reagents</a></th><td>Remove all reagents from the holder.</td></tr><tr><th><a href="datum/reagents.html#proc/del_reagent">del_reagent</a></th><td>Completely remove the reagent with the matching ID.</td></tr><tr><th><a href="datum/reagents.html#proc/get_master_reagent_id">get_master_reagent_id</a></th><td>Get the id of the reagent there is the most of in this holder</td></tr><tr><th><a href="datum/reagents.html#proc/get_reagent_amount">get_reagent_amount</a></th><td>Returns the amount of the matching reagent inside the holder.</td></tr><tr><th><a href="datum/reagents.html#proc/handle_reactions">handle_reactions</a></th><td>Check all recipes and, on a match, uses them.</td></tr><tr><th><a href="datum/reagents.html#proc/has_reagent">has_reagent</a></th><td>Return whether the holder contains the reagent.</td></tr><tr><th><a href="datum/reagents.html#proc/isolate_reagent">isolate_reagent</a></th><td>Remove all reagents but the specified one.</td></tr><tr><th><a href="datum/reagents.html#proc/metabolize">metabolize</a></th><td>Called by <code>/mob/living/proc/Life</code>. You shouldn't have to use this one directly.</td></tr><tr><th><a href="datum/reagents.html#proc/overdose_list">overdose_list</a></th><td>Returns a list of all the chemical IDs in the reagent holder that are overdosing.</td></tr><tr><th><a href="datum/reagents.html#proc/reaction">reaction</a></th><td>Calls the appropriate reaction procs of the reagents.</td></tr><tr><th><a href="datum/reagents.html#proc/remove_any">remove_any</a></th><td>Removes reagents from the holder until the passed amount is matched.</td></tr><tr><th><a href="datum/reagents.html#proc/remove_reagent">remove_reagent</a></th><td>The exact opposite of the add_reagent proc.</td></tr><tr><th><a href="datum/reagents.html#proc/trans_id_to">trans_id_to</a></th><td>Same as <a href="datum/reagents.html#proc/trans_to" title="/datum/reagents">/datum/reagents/proc/trans_to</a> but only for a specific reagent in
the reagent list. If the specified amount is greater than what is available,
it will use the amount of the reagent that is available. If no reagent
exists, returns null.</td></tr><tr><th><a href="datum/reagents.html#proc/trans_to">trans_to</a></th><td>Equally transfer the contents of the holder to another objects holder.</td></tr><tr><th><a href="datum/reagents.html#proc/update_total">update_total</a></th><td>Update the total volume of the holder (the volume of all reagents added together).</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/maximum_volume"><aside class="declaration">var </aside>maximum_volume <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 28"></a></h3><p>This is the maximum volume of the holder.</p><h3 id="var/my_atom"><aside class="declaration">var </aside>my_atom <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 30"></a></h3><p>This is the atom the holder is 'in'. Useful if you need to find the location. (i.e. for explosions)</p><h3 id="var/reagent_list"><aside class="declaration">var </aside>reagent_list <aside>– /list/datum/reagent</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 24"></a></h3><p>All contained reagents. More specifically, references to the reagent datums.</p><h3 id="var/total_volume"><aside class="declaration">var </aside>total_volume <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 26"></a></h3><p>The total volume of all reagents in this holder.</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_reagent"><aside class="declaration">proc </aside>add_reagent<aside>(reagent, amount, /list/data, reagtemp, no_react)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L686"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 686"></a></aside></h3><p>Attempts to add X of the matching reagent to the holder.</p>
<p>You won't use this much. Mostly in new procs for pre-filled objects.</p><h3 id="proc/clear_reagents"><aside class="declaration">proc </aside>clear_reagents<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L580"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 580"></a></aside></h3><p>Remove all reagents from the holder.</p><h3 id="proc/del_reagent"><aside class="declaration">proc </aside>del_reagent<aside>(reagent)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L547"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 547"></a></aside></h3><p>Completely remove the reagent with the matching ID.</p><h3 id="proc/get_master_reagent_id"><aside class="declaration">proc </aside>get_master_reagent_id<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L142"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 142"></a></aside></h3><p>Get the id of the reagent there is the most of in this holder</p><h3 id="proc/get_reagent_amount"><aside class="declaration">proc </aside>get_reagent_amount<aside>(reagent)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L797"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 797"></a></aside></h3><p>Returns the amount of the matching reagent inside the holder.</p>
<p>Returns FALSE if the reagent is missing.</p><h3 id="proc/handle_reactions"><aside class="declaration">proc </aside>handle_reactions<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L436"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 436"></a></aside></h3><p>Check all recipes and, on a match, uses them.</p>
<p>It will also call the recipe's on_reaction proc (for explosions or w/e).
Currently, this proc is automatically called by <a href="datum/reagents.html#proc/trans_to" title="/datum/reagents">/datum/reagents/proc/trans_to</a>.
Modified from the original to preserve reagent data across reactions
(originally for xenoarchaeology).</p><h3 id="proc/has_reagent"><aside class="declaration">proc </aside>has_reagent<aside>(reagent, amount)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L776"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 776"></a></aside></h3><p>Return whether the holder contains the reagent.</p>
<p>If you pass it an amount it will additionally check if the amount is matched.</p><h3 id="proc/isolate_reagent"><aside class="declaration">proc </aside>isolate_reagent<aside>(reagent)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L537"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 537"></a></aside></h3><p>Remove all reagents but the specified one.</p><h3 id="proc/metabolize"><aside class="declaration">proc </aside>metabolize<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/M)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L297"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 297"></a></aside></h3><p>Called by <code>/mob/living/proc/Life</code>. You shouldn't have to use this one directly.</p><h3 id="proc/overdose_list"><aside class="declaration">proc </aside>overdose_list<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L402"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 402"></a></aside></h3><p>Returns a list of all the chemical IDs in the reagent holder that are overdosing.</p><h3 id="proc/reaction"><aside class="declaration">proc </aside>reaction<aside>(/<a href="atom.html">atom</a>/A, method, volume_modifier, show_message)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L621"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 621"></a></aside></h3><p>Calls the appropriate reaction procs of the reagents.</p>
<p>I.e. if A is an object, it will call the reagent's reaction_obj
proc. The method var is used for reaction on mobs. It simply tells
us if the mob TOUCHed the reagent or if it INGESTed the reagent.</p>
<p>Since the volume can be checked in a reagents proc, you might want to
use the volume_modifier var to modifiy the passed value without actually
changing the volume of the reagents.</p>
<p>If you're not sure if you need to use this the answer is very most likely 'No'.</p>
<p>You'll want to use this proc whenever an atom first comes in contact
with the reagents of a holder. (in the 'splash' part of a beaker i.e.)</p><h3 id="proc/remove_any"><aside class="declaration">proc </aside>remove_any<aside>(amount)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L82"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 82"></a></aside></h3><p>Removes reagents from the holder until the passed amount is matched.</p>
<p>It'll try to remove some of ALL reagents contained.</p><h3 id="proc/remove_reagent"><aside class="declaration">proc </aside>remove_reagent<aside>(reagent, amount, safety)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L755"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 755"></a></aside></h3><p>The exact opposite of the add_reagent proc.</p>
<p>Modified from original to return the reagent's data, in order to preserve
reagent data across reactions (originally for xenoarchaeology).</p><h3 id="proc/trans_id_to"><aside class="declaration">proc </aside>trans_id_to<aside>(/<a href="obj.html">obj</a>/target, reagent, amount, preserve_data)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L268"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 268"></a></aside></h3><p>Same as <a href="datum/reagents.html#proc/trans_to" title="/datum/reagents">/datum/reagents/proc/trans_to</a> but only for a specific reagent in
the reagent list. If the specified amount is greater than what is available,
it will use the amount of the reagent that is available. If no reagent
exists, returns null.</p><h3 id="proc/trans_to"><aside class="declaration">proc </aside>trans_to<aside>(target, amount, multiplier, preserve_data, no_react)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L163"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 163"></a></aside></h3><p>Equally transfer the contents of the holder to another objects holder.</p>
<p>You need to pass it the object (not the holder) you want to transfer to and
the amount you want to transfer. Its return value is the actual amount
transfered (if one of the objects is full/empty).</p>
<p>If <code>preserve_data = FALSE</code>, the reagents data will be lost. Useful if you use
data for some strange stuff and don't want it to be transferred.</p><h3 id="proc/update_total"><aside class="declaration">proc </aside>update_total<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/reagents/chemistry/reagents_holder.dm#L567"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/reagents_holder.dm 567"></a></aside></h3><p>Update the total volume of the holder (the volume of all reagents added together).</p></main><footer>paradise.dme <a href="https://github.com/ParadiseSS13/Paradise/tree/b5514069efa5f2c5a6aed3be3811502a06d2b33a">b551406</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/move_loop/has_target/move_towards - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/move_loop/has_target/move_towards.html#var">Var Details</a> - <a href="datum/move_loop/has_target/move_towards.html#proc">Proc Details</a></header><main><h1>move_towards <aside>/<a href="datum.html">datum</a>/<a href="datum/move_loop.html">move_loop</a>/<a href="datum/move_loop/has_target.html">has_target</a>/<a href="datum/move_loop/has_target/move_towards.html">move_towards</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/controllers/subsystem/movement/movement_types.dm#L549"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/movement/movement_types.dm 549"></a></h1><p>Used as a alternative to GLOB.move_manager.home_onto</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/move_loop/has_target/move_towards.html#var/home">home</a></th><td>Should we track our target, so we won't end up in the wrong place if it moves or if something knocks us off course?</td></tr><tr><th><a href="datum/move_loop/has_target/move_towards.html#var/x_speed">x_speed</a></th><td>The speed at which we move along each axis, between -1 and 1</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/move_loop/has_target/move_towards.html#proc/update_angle">update_angle</a></th><td>Recalculates the angle we're moving at, so that we get a smooth movement line, rather than awkwardly bending from orthogonal to diagonal (or vice versa) at some point.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/home"><aside class="declaration">var </aside>home <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/controllers/subsystem/movement/movement_types.dm#L551"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/movement/movement_types.dm 551"></a></h3><p>Should we track our target, so we won't end up in the wrong place if it moves or if something knocks us off course?</p><h3 id="var/x_speed"><aside class="declaration">var </aside>x_speed <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/controllers/subsystem/movement/movement_types.dm#L556"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/movement/movement_types.dm 556"></a></h3><p>The speed at which we move along each axis, between -1 and 1</p><h2 id="proc">Proc Details</h2><h3 id="proc/update_angle"><aside class="declaration">proc </aside>update_angle<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/506e5b7f5d9e45eafbcfc840b775ca69dee16715/code/controllers/subsystem/movement/movement_types.dm#L652"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/movement/movement_types.dm 652"></a></aside></h3><p>Recalculates the angle we're moving at, so that we get a smooth movement line, rather than awkwardly bending from orthogonal to diagonal (or vice versa) at some point.</p>
<p>The way we set the angle is by adjusting the speed we move in each direction.
We always move at full speed along the longer axis towards our target.
For the other axis, we calculate the right speed to reach our target at the same time we did on the longer axis.
The net result is that every time we move, we approach the target along the longer axis, but we only move along the shorter axis at regular intervals, creating as smooth a line as possible.</p></main><footer>paradise.dme <a href="https://github.com/ParadiseSS13/Paradise/tree/506e5b7f5d9e45eafbcfc840b775ca69dee16715">506e5b7</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>
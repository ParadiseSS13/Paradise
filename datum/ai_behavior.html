<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/ai_behavior - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/ai_behavior.html#var">Var Details</a> - <a href="datum/ai_behavior.html#proc">Proc Details</a></header><main><h1>ai_behavior <aside>/<a href="datum.html">datum</a>/<a href="datum/ai_behavior.html">ai_behavior</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L2"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 2"></a></h1><p>Abstract class for an action an AI can take. Can range from movement to grabbing a nearby weapon.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/ai_behavior.html#var/action_cooldown">action_cooldown</a></th><td>Cooldown between actions performances, defaults to the value of
CLICK_CD_MELEE because that seemed like a nice standard for the speed of
AI behavior</td></tr><tr><th><a href="datum/ai_behavior.html#var/behavior_flags">behavior_flags</a></th><td>Flags for extra behavior</td></tr><tr><th><a href="datum/ai_behavior.html#var/required_distance">required_distance</a></th><td>What distance you need to be from the target to perform the action.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/ai_behavior.html#proc/clear_movement_target">clear_movement_target</a></th><td>Clear the controller's movement target only if it was us who last set it</td></tr><tr><th><a href="datum/ai_behavior.html#proc/finish_action">finish_action</a></th><td>Called when the action is finished. This needs the same args as <code>perform</code>
besides the default ones. This should be used to clear up the blackboard of
any unnecessary or obsolete data, and update the state of the pawn if
necessary once we know whether or not the AI action was successful.
<code>succeeded</code> is <code>TRUE</code> or <code>FALSE</code> depending on whether
<a href="datum/ai_behavior.html#proc/perform" title="/datum/ai_behavior">/datum/ai_behavior/proc/perform</a> returns <a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_SUCCEEDED" title="AI_BEHAVIOR_SUCCEEDED">AI_BEHAVIOR_SUCCEEDED</a> or
<a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_FAILED" title="AI_BEHAVIOR_FAILED">AI_BEHAVIOR_FAILED</a>.</td></tr><tr><th><a href="datum/ai_behavior.html#proc/get_cooldown">get_cooldown</a></th><td>Returns the delay to use for this behavior in the moment. The default
behavior cooldown is <code>CLICK_CD_MELEE</code>, but can be customized; for example,
you may want a mob crawling through vents to move slowly and at a random
pace between pipes.</td></tr><tr><th><a href="datum/ai_behavior.html#proc/perform">perform</a></th><td>Called by the AI controller when this action is performed. This will
typically require consulting the blackboard for information on the specific
actions desired from this behavior, by passing the relevant blackboard data
keys to this proc. Returns a combination of <a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_DELAY" title="AI_BEHAVIOR_DELAY">AI_BEHAVIOR_DELAY</a> or
[AI_BEHAVIOR_INSTANT], determining whether or not a cooldown occurs, and
<a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_SUCCEEDED" title="AI_BEHAVIOR_SUCCEEDED">AI_BEHAVIOR_SUCCEEDED</a> or <a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_FAILED" title="AI_BEHAVIOR_FAILED">AI_BEHAVIOR_FAILED</a>. The behavior's
<code>finish_action</code> proc is given TRUE or FALSE depending on whether or not the
return value of <code>perform</code> is marked as successful or unsuccessful.</td></tr><tr><th><a href="datum/ai_behavior.html#proc/set_movement_target">set_movement_target</a></th><td>Helper proc to ensure consistency in setting the source of the movement target</td></tr><tr><th><a href="datum/ai_behavior.html#proc/setup">setup</a></th><td>Called by the AI controller when first being added. Additional arguments
depend on the behavior type. For example, if the behavior involves attacking
a mob, you may require an argument naming the blackboard key which points to
the target. Return FALSE to cancel.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/action_cooldown"><aside class="declaration">var </aside>action_cooldown <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L10"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 10"></a></h3><p>Cooldown between actions performances, defaults to the value of
CLICK_CD_MELEE because that seemed like a nice standard for the speed of
AI behavior</p><h3 id="var/behavior_flags"><aside class="declaration">var </aside>behavior_flags <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L6"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 6"></a></h3><p>Flags for extra behavior</p><h3 id="var/required_distance"><aside class="declaration">var </aside>required_distance <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L4"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 4"></a></h3><p>What distance you need to be from the target to perform the action.</p><h2 id="proc">Proc Details</h2><h3 id="proc/clear_movement_target"><aside class="declaration">proc </aside>clear_movement_target<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L60"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 60"></a></aside></h3><p>Clear the controller's movement target only if it was us who last set it</p><h3 id="proc/finish_action"><aside class="declaration">proc </aside>finish_action<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller, succeeded, ...)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L44"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 44"></a></aside></h3><p>Called when the action is finished. This needs the same args as <code>perform</code>
besides the default ones. This should be used to clear up the blackboard of
any unnecessary or obsolete data, and update the state of the pawn if
necessary once we know whether or not the AI action was successful.
<code>succeeded</code> is <code>TRUE</code> or <code>FALSE</code> depending on whether
<a href="datum/ai_behavior.html#proc/perform" title="/datum/ai_behavior">/datum/ai_behavior/proc/perform</a> returns <a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_SUCCEEDED" title="AI_BEHAVIOR_SUCCEEDED">AI_BEHAVIOR_SUCCEEDED</a> or
<a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_FAILED" title="AI_BEHAVIOR_FAILED">AI_BEHAVIOR_FAILED</a>.</p><h3 id="proc/get_cooldown"><aside class="declaration">proc </aside>get_cooldown<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/cooldown_for)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L23"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 23"></a></aside></h3><p>Returns the delay to use for this behavior in the moment. The default
behavior cooldown is <code>CLICK_CD_MELEE</code>, but can be customized; for example,
you may want a mob crawling through vents to move slowly and at a random
pace between pipes.</p><h3 id="proc/perform"><aside class="declaration">proc </aside>perform<aside>(seconds_per_tick, /<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller, ...)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L34"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 34"></a></aside></h3><p>Called by the AI controller when this action is performed. This will
typically require consulting the blackboard for information on the specific
actions desired from this behavior, by passing the relevant blackboard data
keys to this proc. Returns a combination of <a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_DELAY" title="AI_BEHAVIOR_DELAY">AI_BEHAVIOR_DELAY</a> or
[AI_BEHAVIOR_INSTANT], determining whether or not a cooldown occurs, and
<a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_SUCCEEDED" title="AI_BEHAVIOR_SUCCEEDED">AI_BEHAVIOR_SUCCEEDED</a> or <a href="code/__DEFINES/ai/ai_defines.html#define/AI_BEHAVIOR_FAILED" title="AI_BEHAVIOR_FAILED">AI_BEHAVIOR_FAILED</a>. The behavior's
<code>finish_action</code> proc is given TRUE or FALSE depending on whether or not the
return value of <code>perform</code> is marked as successful or unsuccessful.</p><h3 id="proc/set_movement_target"><aside class="declaration">proc </aside>set_movement_target<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller, /<a href="atom.html">atom</a>/target, /<a href="datum.html">datum</a>/<a href="datum/ai_movement.html">ai_movement</a>/new_movement)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L56"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 56"></a></aside></h3><p>Helper proc to ensure consistency in setting the source of the movement target</p><h3 id="proc/setup"><aside class="declaration">proc </aside>setup<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller, ...)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/datums/ai/ai_behavior.dm#L16"><img src="git.png" width="16" height="16" title="code/datums/ai/ai_behavior.dm 16"></a></aside></h3><p>Called by the AI controller when first being added. Additional arguments
depend on the behavior type. For example, if the behavior involves attacking
a mob, you may require an argument naming the blackboard key which points to
the target. Return FALSE to cancel.</p></main><footer>paradise.dme <a href="https://github.com/ParadiseSS13/Paradise/tree/b5514069efa5f2c5a6aed3be3811502a06d2b33a">b551406</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>
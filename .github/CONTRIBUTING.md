# ВАШ ВКЛАД

## Введение
Это гайд по вкладу в нашу станцию. Если вы хотите добавить свой код, милости прошу в секцию [Pull request](#pull-requests), а если вы нашли баг, то советуем вам заглянуть в секцию [Issue Report](#issues), главное придерживайтесь шаблона:
[Issue Report Template](ISSUE_TEMPLATE.md).

## Комментирование
Сразу говорю - это вам не имиджборда и не вкшечка. Все ваши комментарии должны нести смысловую нагрузку, ибо их назначение - помощь нам разобраться с кодом. Нарушители будут блокироваться.

## Багрепорты
Секция Issues, конечно, создана для багрепортов, но мы с радостью принимаем туда реквесты фич. Главное - добавьте в заголовок своего запроса тег [ЗАПРОС ФИЧИ].

#### СОВЕТЫ ПО ОФОРМЛЕНИЮ:
 - Багрепорт должен быть оформлен в соответствии с шаблоном!

## Пулл реквесты
Вашим фичам - зеленый свет! Предлагайте свои решения в Pull Request.
1)Форкните наш билд себе
2)Клонируйте форк к себе на компьютер
3)Напишите свой код
4)Сделайте пулл реквест в нашу ветку!

#### СОВЕТЫ ПО ОФОРМЛЕНИЮ:
 - Пулл реквест должен быть оформлен разумно. Сам реквест должен касаться лишь одного аспекта игры, за редким исключением, в идеале каждый коммит должен делать законченное изменение, дабы было проще в них разобраться.
 - Пулл реквест должен быть расписан детально. Комментирование кода поощряется.
 - Пулл реквесты не должны иметь мердж конфликтов. ВАМ следует их исправить. Используйте `git rebase` или `git reset` для обновления вашей ветки, НО НЕ `git pull`.

### СОВЕТЫ ПО СПЕЦИФИКЕ БИЛДА:
- Наш билд не любит конфликты при слиянии с оригиналом, поэтому большинство нашего кода и все наши спрайты убраны в папку hyntatmta.
- Чтобы создать одежду, зайдите в hyntatmta/code/modules/clothing, и там по предоставленным уже на месте примерам сделайте вашу шмотку.
- Обязательно посматривайте на путь спрайтов в коде. Все наши спрайты лежат в hyntatmta/icons, туда же должен ссылаться ваш код. Отредактруйте переменные icon и icon_override под наши пути.

#### Советы по специфике BYONDа:
 - Любые пути `type` или `proc` **должны** использовать абсолютные пути за исключение кода, где без относительного пути не обойтесь.
 - Путь начинается с `/`. Вот так: `/obj/machinery/fancy_robot`,
 НЕ ТАК: `obj/machinery/fancy_robot`.
 - Новые датумы начинаются так: `/datum/`. `/datum/arbitrary_datum`,
 не `/arbitrary_datum`.
 - Не используйте строки в комбинации с `text2path()` за исключение динамически создаваемых строк. Обычные переменные вполне хорошо хранят строки.
 - НЕ ДУБЛИРУЙТЕ КОД. Конечно, так как мы имеем довольно специфичные пути для своих фич, в отличие от парадайза без этого не обойтись, но старайтесь минимизировать дупликацию кода.
 - Никаких особых цифр и букв. Если вам важно какое-то число или фраза используйте `#DEFINE` с этой константой для упрощения кодинга.
 - `if(условие)` преобладает над `if (условие)` или другой вариацией. Не используйте пробел!
  - То же самое по `while` и `for` циклам, они не должны иметь пробелов перед объявлением условий. `while(условие)`, `for(условие)`
 - Для вывода текста в чат игроку или всем игрокам, используйте `to_chat(mob/client/world, "сообщение")`.
  Не используйте `mob/client/world << "сообщение"`.
 - Не расписывайте в одной строке блоки (if, else, for, while, etc). Это понижает читаемость кода.
 - Условные операторы, в которых константа сравнивается с переменной, должны быть в таком порядке: 
 `переменная`,  `оператор`, `константа`. То есть, лучше писать `if(count <= 10)`, чем
  `if(10 >= count)`.
 - **Никогдна** не используйте оператор `:` чтобы обойти проверку безопасности, за исключением
 чего-то, что значительно повышает производительность (например, цикл для огромного листа). Тайпкаст осуществляется оператором `.`.
 - Ранние возвраты должны преобладать. Вы не должны делать это :
  ```
  /datum/datum1/proc/proc1()
    if (thing1)
        if (!thing2)
            if (thing3 == 30)
                do stuff
  ```
  Лучше делайте вот это:
  ```
  /datum/datum1/proc/proc1()
    if (!thing1)
        return
    if (thing2)
        return
    if (thing3 != 30)
        return
    do stuff
  ```
 - Любые пулл-реквесты с изменением карты должны прогоняться через mapmerge. Как его юзать:
 1)Запускаете tools/mapmerge/Prepare Maps.bat
 2)Делайте изменения в карте
 3)Перед коммитом запускаете Run Map Merge.bat
 - Данные примеры используются где-то в коде, но неприемлимы в новых пулл реквестах:
  - Сообщение, которое должно показаться всем от лица `src`, должно выводиться функцией
  `visible_message()`.
     - Плохо:
     ```
     for (var/mob/M in viewers(src))
             M.show_message("<span class='warning'>Arbitrary text</span>")
     ```
     - Хорошо:
     ```
     visible_message("<span class='warning'>Arbitrary text</span>")
     ```
  - Не используйте цвето-макро (`\red, \blue, \green, \black`) для раскраски текста, используйте span classes. `<span class='warning'>red text</span>`,
  `<span class='notice'>blue text</span>`.
    - Плохо:
    ```
    usr << "\red Red Text \black black text"
    ```
    - Хорошо:
    ```
    usr << "<span class='warning'>Red Text</span>black text"
    ```
  - Чтобы использовать переменные в строках, **никогда** не используйте `text()`, квадратными ковычками выделяете переменную, ибо это более читабельно.
     - НЕТ:
     ```
     usr << text("\The [] is leaking []!", src.name, src.liquid_type)
     ```
     - ДА:
     ```
     usr << "\The [src] is leaking [liquid_type]"
     ```
  - Для связи src с переменной или функцией, **НЕ ИСПОЛЬЗУЙТЕ**
   `src.var`/`src.proc()`. `src.` и так в таких случаях подразумевается, поэтому используйте
   `var`/`proc()`.
     - Плохо:
     ```
     var/user = src.interactor
     src.fillReserves(user)
     ```
     - Отлично:
     ```
     var/user = interactor
     fillReserves(user)
     ```
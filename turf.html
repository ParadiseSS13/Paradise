<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>/turf - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="turf.html#var">Var Details</a> - <a href="turf.html#proc">Proc Details</a></header><main><h1>turf <aside>/<a href="turf.html">turf</a></aside><aside> inherits /<a href="atom.html">atom</a></aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L1"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="turf.html#var/affecting_lights">affecting_lights</a></th><td>List of light sources affecting this turf.</td></tr><tr><th><a href="turf.html#var/atmos_environment">atmos_environment</a></th><td>The external environment that this tile is exposed to for ATMOS_MODE_EXPOSED_TO_ENVIRONMENT</td></tr><tr><th><a href="turf.html#var/atmos_mode">atmos_mode</a></th><td>The general behavior of atmos on this tile.</td></tr><tr><th><a href="turf.html#var/atmos_superconductivity">atmos_superconductivity</a></th><td>makes turfs less picky about where they transfer gas. Largely just used in the SM</td></tr><tr><th><a href="turf.html#var/corners">corners</a></th><td>A list of our lighting corners.</td></tr><tr><th><a href="turf.html#var/destination_x">destination_x</a></th><td>The destination x-coordinate that atoms entering this turf will be automatically moved to.</td></tr><tr><th><a href="turf.html#var/destination_y">destination_y</a></th><td>The destination y-coordinate that atoms entering this turf will be automatically moved to.</td></tr><tr><th><a href="turf.html#var/destination_z">destination_z</a></th><td>The destination z-level that atoms entering this turf will be automatically moved to.</td></tr><tr><th><a href="turf.html#var/dynamic_lighting">dynamic_lighting</a></th><td>Handles if the lighting should be dynamic. Generally lighting is dynamic if it's not in space</td></tr><tr><th><a href="turf.html#var/fixed_underlay">fixed_underlay</a></th><td>Icon-smoothing variable to map a diagonal wall corner with a fixed underlay.</td></tr><tr><th><a href="turf.html#var/has_opaque_atom">has_opaque_atom</a></th><td>Not to be confused with opacity, this will be TRUE if there's any opaque atom on the tile.</td></tr><tr><th><a href="turf.html#var/lighting_corners_initialised">lighting_corners_initialised</a></th><td>If you're curious why these are TMP vars, I don't know! TMP only affects savefiles so this does nothing :) - GDN
Is the lighting on this turf inited</td></tr><tr><th><a href="turf.html#var/lighting_object">lighting_object</a></th><td>The lighting Object affecting us</td></tr><tr><th><a href="turf.html#var/oxygen">oxygen</a></th><td>Properties for open tiles (/floor)
All the gas vars, on the turf, are meant to be utilized for initializing a gas datum and setting its first gas values; the turf vars are never further modified at runtime; it is never directly used for calculations by the atmospherics system.</td></tr><tr><th><a href="turf.html#var/pathing_pass_method">pathing_pass_method</a></th><td>How pathing algorithm will check if this turf is passable by itself (not including content checks). By default it's just density check.
WARNING: Currently to use a density shortcircuiting this does not support dense turfs with special allow through function</td></tr><tr><th><a href="turf.html#var/pressure_difference">pressure_difference</a></th><td>The pressure difference between the turf and it's neighbors. Affects movables by pulling them in the path of least resistance</td></tr><tr><th><a href="turf.html#var/pressure_direction">pressure_direction</a></th><td>The direction movables should travel when affected by pressure. Set to the biggest difference in atmos by turf neighbors</td></tr><tr><th><a href="turf.html#var/pressure_overlay">pressure_overlay</a></th><td>The effect used to render a pressure overlay from this tile.</td></tr><tr><th><a href="turf.html#var/real_layer">real_layer</a></th><td>Set if the turf should appear on a different layer while in-game and map editing, otherwise use normal layer.</td></tr><tr><th><a href="turf.html#var/transparent_floor">transparent_floor</a></th><td>used to check if pipes should be visible under the turf or not</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="turf.html#proc/AdjacentTurfs">AdjacentTurfs</a></th><td>Returns the adjacent turfs. Can check for density or cardinal directions only instead of all 8, or just dense turfs entirely. dense_only takes precedence over open_only.</td></tr><tr><th><a href="turf.html#proc/LinkBlockedWithAccess">LinkBlockedWithAccess</a></th><td>For seeing if we can actually move between 2 given turfs while accounting for our access and the caller's pass_flags</td></tr><tr><th><a href="turf.html#proc/blind_release_air">blind_release_air</a></th><td>Blindly releases air to this tile. Do not use if you care what the tile previously held, implement /datum/milla_safe instead.</td></tr><tr><th><a href="turf.html#proc/can_cross_safely">can_cross_safely</a></th><td>Returns whether it is safe for an atom to move across this turf
TODO: Things like lava will need to have more specialized code
but that can wait for when we port basic mobs that may actually
encounter lava</td></tr><tr><th><a href="turf.html#proc/get_decals">get_decals</a></th><td>Returns a list of all attached /datum/element/decal/ for this turf</td></tr><tr><th><a href="turf.html#proc/get_readonly_air">get_readonly_air</a></th><td>Gets a read-only version of this tile's air. Do not use if you intend to modify the air later, implement /datum/milla_safe instead.</td></tr><tr><th><a href="turf.html#proc/private_unsafe_get_air">private_unsafe_get_air</a></th><td>Do not call this directly. Use get_readonly_air or implement /datum/milla_safe.</td></tr><tr><th><a href="turf.html#proc/private_unsafe_recalculate_atmos_connectivity">private_unsafe_recalculate_atmos_connectivity</a></th><td>This method is unsafe to use because it only updates milla_* properties, but does not write them to MILLA. Use recalculate_atmos_connectivity() instead.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/affecting_lights"><aside class="declaration">var </aside>affecting_lights <aside>– /tmp/list/datum/light_source</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L72"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 72"></a></h3><p>List of light sources affecting this turf.</p><h3 id="var/atmos_environment"><aside class="declaration">var </aside>atmos_environment <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L83"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 83"></a></h3><p>The external environment that this tile is exposed to for ATMOS_MODE_EXPOSED_TO_ENVIRONMENT</p><h3 id="var/atmos_mode"><aside class="declaration">var </aside>atmos_mode <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L81"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 81"></a></h3><p>The general behavior of atmos on this tile.</p><h3 id="var/atmos_superconductivity"><aside class="declaration">var </aside>atmos_superconductivity <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L59"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 59"></a></h3><p>makes turfs less picky about where they transfer gas. Largely just used in the SM</p><h3 id="var/corners"><aside class="declaration">var </aside>corners <aside>– /tmp/list/datum/lighting_corner</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L76"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 76"></a></h3><p>A list of our lighting corners.</p><h3 id="var/destination_x"><aside class="declaration">var </aside>destination_x <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L94"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 94"></a></h3><p>The destination x-coordinate that atoms entering this turf will be automatically moved to.</p><h3 id="var/destination_y"><aside class="declaration">var </aside>destination_y <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L96"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 96"></a></h3><p>The destination y-coordinate that atoms entering this turf will be automatically moved to.</p><h3 id="var/destination_z"><aside class="declaration">var </aside>destination_z <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L100"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 100"></a></h3><p>The destination z-level that atoms entering this turf will be automatically moved to.</p><h3 id="var/dynamic_lighting"><aside class="declaration">var </aside>dynamic_lighting <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L65"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 65"></a></h3><p>Handles if the lighting should be dynamic. Generally lighting is dynamic if it's not in space</p><h3 id="var/fixed_underlay"><aside class="declaration">var </aside>fixed_underlay <aside>– /list</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L17"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 17"></a></h3><p>Icon-smoothing variable to map a diagonal wall corner with a fixed underlay.</p><h3 id="var/has_opaque_atom"><aside class="declaration">var </aside>has_opaque_atom <aside>– /tmp</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L78"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 78"></a></h3><p>Not to be confused with opacity, this will be TRUE if there's any opaque atom on the tile.</p><h3 id="var/lighting_corners_initialised"><aside class="declaration">var </aside>lighting_corners_initialised <aside>– /tmp</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L70"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 70"></a></h3><p>If you're curious why these are TMP vars, I don't know! TMP only affects savefiles so this does nothing :) - GDN
Is the lighting on this turf inited</p><h3 id="var/lighting_object"><aside class="declaration">var </aside>lighting_object <aside>– /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/lighting_object</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L74"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 74"></a></h3><p>The lighting Object affecting us</p><h3 id="var/oxygen"><aside class="declaration">var </aside>oxygen <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L21"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 21"></a></h3><p>Properties for open tiles (/floor)
All the gas vars, on the turf, are meant to be utilized for initializing a gas datum and setting its first gas values; the turf vars are never further modified at runtime; it is never directly used for calculations by the atmospherics system.</p><h3 id="var/pathing_pass_method"><aside class="declaration">var </aside>pathing_pass_method <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L49"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 49"></a></h3><p>How pathing algorithm will check if this turf is passable by itself (not including content checks). By default it's just density check.
WARNING: Currently to use a density shortcircuiting this does not support dense turfs with special allow through function</p><h3 id="var/pressure_difference"><aside class="declaration">var </aside>pressure_difference <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L55"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 55"></a></h3><p>The pressure difference between the turf and it's neighbors. Affects movables by pulling them in the path of least resistance</p><h3 id="var/pressure_direction"><aside class="declaration">var </aside>pressure_direction <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L57"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 57"></a></h3><p>The direction movables should travel when affected by pressure. Set to the biggest difference in atmos by turf neighbors</p><h3 id="var/pressure_overlay"><aside class="declaration">var </aside>pressure_overlay <aside>– /<a href="obj.html">obj</a>/effect/pressure_overlay</aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L88"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 88"></a></h3><p>The effect used to render a pressure overlay from this tile.</p><h3 id="var/real_layer"><aside class="declaration">var </aside>real_layer <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L13"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 13"></a></h3><p>Set if the turf should appear on a different layer while in-game and map editing, otherwise use normal layer.</p><h3 id="var/transparent_floor"><aside class="declaration">var </aside>transparent_floor <aside>– </aside> <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L10"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 10"></a></h3><p>used to check if pipes should be visible under the turf or not</p><h2 id="proc">Proc Details</h2><h3 id="proc/AdjacentTurfs"><aside class="declaration">proc </aside>AdjacentTurfs<aside>(open_only, cardinal_only, dense_only)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L475"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 475"></a></aside></h3><p>Returns the adjacent turfs. Can check for density or cardinal directions only instead of all 8, or just dense turfs entirely. dense_only takes precedence over open_only.</p><h3 id="proc/LinkBlockedWithAccess"><aside class="declaration">proc </aside>LinkBlockedWithAccess<aside>(/<a href="turf.html">turf</a>/destination_turf, /<a href="datum.html">datum</a>/<a href="datum/can_pass_info.html">can_pass_info</a>/pass_info)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/__HELPERS/paths/path.dm#L215"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/path.dm 215"></a></aside></h3><p>For seeing if we can actually move between 2 given turfs while accounting for our access and the caller's pass_flags</p>
<p>Assumes destinantion turf is non-dense - check and shortcircuit in code invoking this proc to avoid overhead.
Makes some other assumptions, such as assuming that unless declared, non dense objects will not block movement.
It's fragile, but this is VERY much the most expensive part of pathing, so it'd better be fast</p>
<p>Arguments:</p>
<ul>
<li>destination_turf - Where are we going from where we are?</li>
<li>pass_info - Holds all the info about what this path attempt can go through</li>
</ul><h3 id="proc/blind_release_air"><aside class="declaration">proc </aside>blind_release_air<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/air)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L706"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 706"></a></aside></h3><p>Blindly releases air to this tile. Do not use if you care what the tile previously held, implement /datum/milla_safe instead.</p><h3 id="proc/can_cross_safely"><aside class="declaration">proc </aside>can_cross_safely<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/crossing)  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L876"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 876"></a></aside></h3><p>Returns whether it is safe for an atom to move across this turf
TODO: Things like lava will need to have more specialized code
but that can wait for when we port basic mobs that may actually
encounter lava</p><h3 id="proc/get_decals"><aside class="declaration">proc </aside>get_decals<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L667"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 667"></a></aside></h3><p>Returns a list of all attached /datum/element/decal/ for this turf</p><h3 id="proc/get_readonly_air"><aside class="declaration">proc </aside>get_readonly_air<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L691"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 691"></a></aside></h3><p>Gets a read-only version of this tile's air. Do not use if you intend to modify the air later, implement /datum/milla_safe instead.</p><h3 id="proc/private_unsafe_get_air"><aside class="declaration">proc </aside>private_unsafe_get_air<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/game/turfs/turf.dm#L684"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 684"></a></aside></h3><p>Do not call this directly. Use get_readonly_air or implement /datum/milla_safe.</p><h3 id="proc/private_unsafe_recalculate_atmos_connectivity"><aside class="declaration">proc </aside>private_unsafe_recalculate_atmos_connectivity<aside>()  <a href="https://github.com/ParadiseSS13/Paradise/blob/b5514069efa5f2c5a6aed3be3811502a06d2b33a/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L201"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 201"></a></aside></h3><p>This method is unsafe to use because it only updates milla_* properties, but does not write them to MILLA. Use recalculate_atmos_connectivity() instead.</p></main><footer>paradise.dme <a href="https://github.com/ParadiseSS13/Paradise/tree/b5514069efa5f2c5a6aed3be3811502a06d2b33a">b551406</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>